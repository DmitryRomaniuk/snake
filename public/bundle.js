!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./lib/index.js")}({"./lib/Food.js":function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){a(this,e)}return r(e,null,[{key:"generateFoodPosition",value:function(e){var t=[];return e.forEach(function(e,n){e.forEach(function(e,a){e||t.push({x:a,y:n})})}),t.length>0?t[Math.floor(Math.random()*t.length)]:null}}]),e}();t.default=i},"./lib/Results.js":function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){a(this,e),this.result=0}return r(e,null,[{key:"saveResult",value:function(e){localStorage.setItem("resultGame",e.toString())}},{key:"getResult",value:function(){return localStorage.resultGame}}]),e}();t.default=i},"./lib/Snake.js":function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t){a(this,e),this.lenght=4,this.headPosition={x:Math.floor(t[0].length/2),y:Math.floor(t.length/2)},this.positionEachElement=function(e,t){return new Array(e).fill(0).map(function(e,n){return{x:t.x-n,y:t.y}})}(this.lenght,this.headPosition)}return r(e,[{key:"increaseLength",value:function(){this.lenght++}},{key:"snakeEatFood",value:function(e){return e.x===this.headPosition.x&&e.y===this.headPosition.y}},{key:"_updatePosSnake",value:function(e){this.positionEachElement.unshift({x:this.headPosition.x,y:this.headPosition.y}),this.snakeEatFood(e)||this.positionEachElement.pop()}},{key:"makeNextStep",value:function(e,t,n,a){return("left"!==t||0!==this.headPosition.x&&e[this.headPosition.y][this.headPosition.x-1]!==n)&&(("right"!==t||this.headPosition.x!==e[0].length-1&&e[this.headPosition.y][this.headPosition.x+1]!==n)&&(("up"!==t||0!==this.headPosition.y&&e[this.headPosition.y-1][this.headPosition.x]!==n)&&(("down"!==t||this.headPosition.y!==e.length-1&&e[this.headPosition.y+1][this.headPosition.x]!==n)&&("left"===t&&(this.headPosition.x--,this._updatePosSnake(a)),"right"===t&&(this.headPosition.x++,this._updatePosSnake(a)),"up"===t&&(this.headPosition.y--,this._updatePosSnake(a)),"down"===t&&(this.headPosition.y++,this._updatePosSnake(a)),this.positionEachElement))))}}]),e}();t.default=i},"./lib/VisualRepresentation.js":function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"addGameScore",value:function(e){document.getElementById("game-score").textContent=e}},{key:"addFinishGameScore",value:function(e){document.getElementById("current-score").textContent=e}},{key:"addRecordGameScore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";document.getElementById("record-score").textContent=e}},{key:"createHtmlMarkUpGamePlace",value:function(t,n){var a=document.getElementById("game-area"),r=document.createElement("div");return r.setAttribute("class","game-child"),e.addGameScore(t),n.forEach(function(e){var t=document.createElement("div");t.setAttribute("class","game-child-row"),e.forEach(function(){var e=document.createElement("div");e.setAttribute("class","game-child-cell"),t.appendChild(e)}),r.appendChild(t)}),a.hasChildNodes()?a.replaceChild(r,a.children[0]):a.appendChild(r),r}},{key:"updateHTMLgameArea",value:function(e,t,n,r){var i=document.getElementById("game-area"),o=[].concat(a(i.children[0].children));e.forEach(function(e){e.change===t&&o[e.y].children[e.x].setAttribute("class","game-child-cell"),e.change===n&&o[e.y].children[e.x].setAttribute("class","game-child-cell snake-cell"),e.change===r&&o[e.y].children[e.x].setAttribute("class","game-child-cell food-cell")})}},{key:"addPauseGameEventListener",value:function(e){document.getElementById("pause-button").addEventListener("click",function(){return e()})}},{key:"addStartButtonEventListener",value:function(t){[].concat(a(document.getElementsByClassName("start-button"))).map(function(n){return n.addEventListener("click",function(){return e.startButtonEventListener(t)})})}},{key:"addKeysEventListener",value:function(t,n){window.addEventListener("keydown",function(a){if(!a.preventDefaulted)switch(a.code){case"Enter":case"Space":e.startButtonEventListener(n);break;case"KeyS":case"ArrowDown":t("down");break;case"KeyW":case"ArrowUp":t("up");break;case"KeyA":case"ArrowLeft":t("left");break;case"KeyD":case"ArrowRight":t("right");break;default:return null}})}},{key:"startButtonEventListener",value:function(e){var t=document.getElementById("game"),n=t.querySelector(".wrapper-hello"),a=t.querySelector(".wrapper-game"),r=t.querySelector(".wrapper-result");n.setAttribute("style","display: none"),a.setAttribute("style","display: block"),r.setAttribute("style","display: none"),e()}},{key:"goResultPageEventListener",value:function(){var e=document.getElementById("game"),t=e.querySelector(".wrapper-game"),n=e.querySelector(".wrapper-result");t.setAttribute("style","display: none"),n.setAttribute("style","display: block")}}]),e}();t.default=o},"./lib/index.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("./lib/Food.js"),s=a(o),u=n("./lib/Results.js"),l=a(u),c=n("./lib/Snake.js"),d=a(c),h=n("./lib/VisualRepresentation.js"),f=a(h),m=void 0,y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;r(this,e),this.speed=a,this.snakeName="snake",this.foodName="food",this.zeroFieldName=0,this.gameArea=function(e){return new Array(n).fill(e).map(function(){return new Array(t).fill(e)})}(this.zeroFieldName),this.newGameAreaState=function(){var e=this;return new Array(n).fill(this.zeroFieldName).map(function(){return new Array(t).fill(e.zeroFieldName)})},this.foodPosition=s.default.generateFoodPosition(this.gameArea),this.userPressKey="right",this.direction="right",this.gamePaused=!1,this.snake=new d.default(this.newGameAreaState()),this.resultGame=new l.default}return i(e,[{key:"start",value:function(){var e=this;this.gameArea=this.gameArea.map(function(t){return t.map(function(){return e.zeroFieldName})}),f.default.createHtmlMarkUpGamePlace(this.resultGame.result.toString(),this.gameArea),this.userPressKey=void 0,this.direction="right",this.snake=new d.default(this.newGameAreaState()),this.gameStep(),m=window.setInterval(function(){e.gameStep()},this.speed)}},{key:"setuserPressKey",value:function(e){this.userPressKey=e}},{key:"addSnakeToArea",value:function(e,t,n){var a=e.map(function(e){return e.map(function(e){return e})});return t.forEach(function(e){a[e.y][e.x]=n}),a}},{key:"compareStateArea",value:function(e,t){var n=[];return e.forEach(function(e,a){return e.forEach(function(e,r){e!==t[a][r]&&n.push({y:a,x:r,change:t[a][r]})})}),n}},{key:"updateArea",value:function(e,t){var n=this.compareStateArea(e,t,this.snakeName);return n.forEach(function(e){t[e.y][e.x]=e.change}),n}},{key:"addFoodToArea",value:function(e,t){var n=e.map(function(e){return e.map(function(e){return e})});return n[t.y][t.x]=this.foodName,n}},{key:"gameStep",value:function(){var t=this;this.direction=e.getDirection(this.direction,this.userPressKey);var n=this.addFoodToArea(this.newGameAreaState(),this.foodPosition),a=this.snake.makeNextStep(this.gameArea,this.direction,this.snakeName,this.foodPosition);a?n=this.addSnakeToArea(n,a,this.snakeName):this.end(),n.some(function(e){return e.some(function(e){return e===t.foodName})})||(this.foodPosition=s.default.generateFoodPosition(n),null===this.foodPosition&&this.end(),n=this.addFoodToArea(n,this.foodPosition),this.resultGame.result++,f.default.addGameScore(this.resultGame.result.toString()));var r=this.updateArea(this.gameArea,n);f.default.updateHTMLgameArea(r,this.zeroFieldName,this.snakeName,this.foodName),this.gameArea=n.map(function(e){return e.map(function(e){return e})}),this.userPressKey=void 0}},{key:"pause",value:function(){var e=this;this.gamePaused?(this.gamePaused=!1,m=window.setInterval(function(){e.gameStep()},this.speed)):(this.gamePaused=!0,window.clearInterval(m))}},{key:"end",value:function(){(!parseInt(l.default.getResult())||this.resultGame.result>=parseInt(l.default.getResult()))&&l.default.saveResult(this.resultGame.result),window.clearInterval(m),f.default.addFinishGameScore(this.resultGame.result.toString()),f.default.addRecordGameScore(l.default.getResult().toString()),f.default.goResultPageEventListener()}}],[{key:"getDirection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return"left"===e&&"right"===t?"left":"right"===e&&"left"===t?"right":"up"===e&&"down"===t?"up":"down"===e&&"up"===t?"down":t}}]),e}(),p=new y;f.default.addKeysEventListener(p.setuserPressKey.bind(p),p.start.bind(p)),f.default.addStartButtonEventListener(p.start.bind(p)),f.default.addPauseGameEventListener(p.pause.bind(p))}});
//# sourceMappingURL=bundle.js.map